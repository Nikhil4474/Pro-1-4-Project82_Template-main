{"ast":null,"code":"import _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/createClass\";\nimport _inherits from \"@babel/runtime/helpers/inherits\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/getPrototypeOf\";\nvar _jsxFileName = \"C:\\\\Users\\\\Nikhil\\\\Downloads\\\\Pro-1-4-Project82_Template-main\\\\Pro-1-4-Project82_Template-main\\\\screens\\\\Ride.js\";\nimport _regeneratorRuntime from \"@babel/runtime/regenerator\";\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nimport React, { Component } from \"react\";\nimport View from \"react-native-web/dist/exports/View\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport TextInput from \"react-native-web/dist/exports/TextInput\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport ImageBackground from \"react-native-web/dist/exports/ImageBackground\";\nimport Image from \"react-native-web/dist/exports/Image\";\nimport Alert from \"react-native-web/dist/exports/Alert\";\nimport KeyboardAvoidingView from \"react-native-web/dist/exports/KeyboardAvoidingView\";\nimport ToastAndroid from \"react-native-web/dist/exports/ToastAndroid\";\nimport * as Permissions from \"expo-permissions\";\nimport { BarCodeScanner } from \"expo-barcode-scanner\";\nimport firebase from \"firebase\";\nimport db from \"../config\";\n\nvar bgImage = require(\"../assets/background2.png\");\n\nvar appIcon = require(\"../assets/appIcon.png\");\n\nvar RideScreen = function (_Component) {\n  _inherits(RideScreen, _Component);\n\n  var _super = _createSuper(RideScreen);\n\n  function RideScreen(props) {\n    var _this;\n\n    _classCallCheck(this, RideScreen);\n\n    _this = _super.call(this, props);\n\n    _this.getCameraPermissions = function _callee() {\n      var _await$Permissions$as, status;\n\n      return _regeneratorRuntime.async(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.next = 2;\n              return _regeneratorRuntime.awrap(Permissions.askAsync(Permissions.CAMERA));\n\n            case 2:\n              _await$Permissions$as = _context.sent;\n              status = _await$Permissions$as.status;\n\n              _this.setState({\n                hasCameraPermissions: status === \"granted\",\n                domState: \"scanner\",\n                scanned: false\n              });\n\n            case 5:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, null, null, null, Promise);\n    };\n\n    _this.handleBarCodeScanned = function _callee2(_ref) {\n      var type, data;\n      return _regeneratorRuntime.async(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              type = _ref.type, data = _ref.data;\n\n              _this.setState({\n                bikeId: data,\n                domState: \"normal\",\n                scanned: true\n              });\n\n            case 2:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, null, null, null, Promise);\n    };\n\n    _this.handleTransaction = function _callee3() {\n      var _this$state, bikeId, userId, transactionType, isEligible, _this$state2, bikeType, userName, _this$state3;\n\n      return _regeneratorRuntime.async(function _callee3$(_context3) {\n        while (1) {\n          switch (_context3.prev = _context3.next) {\n            case 0:\n              _this$state = _this.state, bikeId = _this$state.bikeId, userId = _this$state.userId;\n              _context3.next = 3;\n              return _regeneratorRuntime.awrap(_this.getBikeDetails(bikeId));\n\n            case 3:\n              _context3.next = 5;\n              return _regeneratorRuntime.awrap(_this.getUserDetails(userId));\n\n            case 5:\n              _context3.next = 7;\n              return _regeneratorRuntime.awrap(_this.checkBikeAvailability(bikeId));\n\n            case 7:\n              transactionType = _context3.sent;\n\n              if (!transactionType) {\n                _this.setState({\n                  bikeId: \"\"\n                });\n\n                Alert.alert(\"Kindly enter/scan valid bike id\");\n              } else if (transactionType === \"under_maintenance\") {\n                _this.setState({\n                  bikeId: \"\"\n                });\n              } else if (transactionType === \"rented\") {\n                isEligible = true;\n\n                if (isEligible) {\n                  _this$state2 = _this.state, bikeType = _this$state2.bikeType, userName = _this$state2.userName;\n\n                  _this.assignBike(bikeId, userId, bikeType, userName);\n\n                  Alert.alert(\"You have rented the bike for next 1 hour. Enjoy your ride!!!\");\n\n                  _this.setState({\n                    bikeAssigned: true\n                  });\n                }\n              } else {\n                isEligible = true;\n\n                if (isEligible) {\n                  _this$state3 = _this.state, bikeType = _this$state3.bikeType, userName = _this$state3.userName;\n\n                  _this.returnBike(bikeId, userId, bikeType, userName);\n\n                  Alert.alert(\"We hope you enjoyed your ride\");\n\n                  _this.setState({\n                    bikeAssigned: false\n                  });\n                }\n              }\n\n            case 9:\n            case \"end\":\n              return _context3.stop();\n          }\n        }\n      }, null, null, null, Promise);\n    };\n\n    _this.getBikeDetails = function (bikeId) {\n      bikeId = bikeId.trim();\n      db.collection(\"bicycles\").where(\"id\", \"==\", bikeId).get().then(function (snapshot) {\n        snapshot.docs.map(function (doc) {\n          _this.setState({\n            bikeType: doc.data().bike_type\n          });\n        });\n      });\n    };\n\n    _this.getUserDetails = function (userId) {\n      db.collection(\"users\").where(\"id\", \"==\", userId).get().then(function (snapshot) {\n        snapshot.docs.map(function (doc) {\n          _this.setState({\n            userName: doc.data().name,\n            userId: doc.data().id,\n            bikeAssigned: doc.data().bike_assigned\n          });\n        });\n      });\n    };\n\n    _this.checkBikeAvailability = function _callee4(bikeId) {\n      var bikeRef, transactionType;\n      return _regeneratorRuntime.async(function _callee4$(_context4) {\n        while (1) {\n          switch (_context4.prev = _context4.next) {\n            case 0:\n              _context4.next = 2;\n              return _regeneratorRuntime.awrap(db.collection(\"bicycles\").where(\"id\", \"==\", bikeId).get());\n\n            case 2:\n              bikeRef = _context4.sent;\n              transactionType = \"\";\n\n              if (bikeRef.docs.length == 0) {\n                transactionType = false;\n              } else {\n                bikeRef.docs.map(function (doc) {\n                  if (!doc.data().under_maintenance) {\n                    transactionType = transactionType = doc.data().is_bike_available ? \"rented\" : \"return\";\n                  } else {\n                    transactionType = \"under_maintenance\";\n                    Alert.alert(doc.data().maintenance_message);\n                  }\n                });\n              }\n\n              return _context4.abrupt(\"return\", transactionType);\n\n            case 6:\n            case \"end\":\n              return _context4.stop();\n          }\n        }\n      }, null, null, null, Promise);\n    };\n\n    _this.checkUserEligibilityForStartRide = function _callee5(userId) {\n      var userRef, isUserEligible;\n      return _regeneratorRuntime.async(function _callee5$(_context5) {\n        while (1) {\n          switch (_context5.prev = _context5.next) {\n            case 0:\n              _context5.next = 2;\n              return _regeneratorRuntime.awrap(db.collection(\"users\").where(\"id\", \"==\", userId).get());\n\n            case 2:\n              userRef = _context5.sent;\n              isUserEligible = false;\n\n              if (userRef.docs.length == 0) {\n                _this.setState({\n                  bikeId: \"\"\n                });\n\n                isUserEligible = false;\n                Alert.alert(\"Invalid user id\");\n              } else {\n                userRef.docs.map(function (doc) {\n                  if (!doc.data().bike_assigned) {\n                    isUserEligible = true;\n                  } else {\n                    isUserEligible = false;\n                    Alert.alert(\"End the current ride to rent another bike.\");\n\n                    _this.setState({\n                      bikeId: \"\"\n                    });\n                  }\n                });\n              }\n\n              return _context5.abrupt(\"return\", isUserEligible);\n\n            case 6:\n            case \"end\":\n              return _context5.stop();\n          }\n        }\n      }, null, null, null, Promise);\n    };\n\n    _this.checkUserEligibilityForEndRide = function _callee6(bikeId, userId) {\n      var transactionRef, isUserEligible;\n      return _regeneratorRuntime.async(function _callee6$(_context6) {\n        while (1) {\n          switch (_context6.prev = _context6.next) {\n            case 0:\n              _context6.next = 2;\n              return _regeneratorRuntime.awrap(db.collection(\"transactions\").where(\"bike_id\", \"==\", bikeId).limit(1).get());\n\n            case 2:\n              transactionRef = _context6.sent;\n              isUserEligible = \"\";\n              transactionRef.docs.map(function (doc) {\n                var lastBikeTransaction = doc.data();\n\n                if (lastBikeTransaction === userId) {\n                  isUserEligible = true;\n                } else {\n                  isUserEligible = false;\n                  Alert.alert(\"This bike is rented by another user\");\n\n                  _this.setState({\n                    bikeId: \"\"\n                  });\n                }\n              });\n              return _context6.abrupt(\"return\", isUserEligible);\n\n            case 6:\n            case \"end\":\n              return _context6.stop();\n          }\n        }\n      }, null, null, null, Promise);\n    };\n\n    _this.assignBike = function _callee7(bikeId, userId, bikeType, userName) {\n      return _regeneratorRuntime.async(function _callee7$(_context7) {\n        while (1) {\n          switch (_context7.prev = _context7.next) {\n            case 0:\n              db.collection(\"transactions\").add({\n                user_id: userId,\n                user_name: userName,\n                bike_id: bikeId,\n                bike_type: bikeType,\n                date: firebase.firestore.Timestamp.now().toDate(),\n                transaction_type: \"rented\"\n              });\n              db.collection(\"bicycles\").doc(bikeId).update({\n                is_bike_available: false\n              });\n              db.collection(\"users\").doc(userId).update({\n                bike_assigned: true\n              });\n\n              _this.setState({\n                bikeId: \"\"\n              });\n\n            case 4:\n            case \"end\":\n              return _context7.stop();\n          }\n        }\n      }, null, null, null, Promise);\n    };\n\n    _this.returnBike = function _callee8(bikeId, userId, bikeType, userName) {\n      return _regeneratorRuntime.async(function _callee8$(_context8) {\n        while (1) {\n          switch (_context8.prev = _context8.next) {\n            case 0:\n              db.collection(\"transactions\").add({\n                user_id: userId,\n                user_name: userName,\n                bike_id: bikeId,\n                bike_type: bikeType,\n                date: firebase.firestore.Timestamp.now().toDate(),\n                transaction_type: \"return\"\n              });\n              db.collection(\"bicycles\").doc(bikeId).update({\n                is_bike_available: true\n              });\n              db.collection(\"users\").doc(userId).update({\n                bike_assigned: false\n              });\n\n              _this.setState({\n                bikeId: \"\"\n              });\n\n            case 4:\n            case \"end\":\n              return _context8.stop();\n          }\n        }\n      }, null, null, null, Promise);\n    };\n\n    _this.state = {\n      bikeId: \"\",\n      userId: \"\",\n      domState: \"normal\",\n      hasCameraPermissions: null,\n      scanned: false,\n      bikeType: \"\",\n      userName: \"\"\n    };\n    return _this;\n  }\n\n  _createClass(RideScreen, [{\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var _this$state4 = this.state,\n          bikeId = _this$state4.bikeId,\n          userId = _this$state4.userId,\n          domState = _this$state4.domState,\n          scanned = _this$state4.scanned,\n          bikeAssigned = _this$state4.bikeAssigned;\n\n      if (domState !== \"normal\") {\n        return React.createElement(BarCodeScanner, {\n          onBarCodeScanned: scanned ? undefined : this.handleBarCodeScanned,\n          style: StyleSheet.absoluteFillObject,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 295,\n            columnNumber: 17\n          }\n        });\n      }\n\n      return React.createElement(KeyboardAvoidingView, {\n        behavior: \"padding\",\n        style: styles.container,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 302,\n          columnNumber: 13\n        }\n      }, React.createElement(View, {\n        style: styles.upperContainer,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 303,\n          columnNumber: 17\n        }\n      }, React.createElement(Image, {\n        source: appIcon,\n        style: styles.appIcon,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 304,\n          columnNumber: 21\n        }\n      }), React.createElement(Text, {\n        style: styles.title,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 305,\n          columnNumber: 21\n        }\n      }, \"e-ride\"), React.createElement(Text, {\n        style: styles.subtitle,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 306,\n          columnNumber: 21\n        }\n      }, \"A Eco-Friendly Ride\")), React.createElement(View, {\n        style: styles.lowerContainer,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 308,\n          columnNumber: 17\n        }\n      }, React.createElement(View, {\n        style: styles.textinputContainer,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 309,\n          columnNumber: 21\n        }\n      }, React.createElement(TextInput, {\n        style: [styles.textinput, {\n          width: \"82%\"\n        }],\n        onChangeText: function onChangeText(text) {\n          return _this2.setState({\n            userId: text\n          });\n        },\n        placeholder: \"User Id\",\n        placeholderTextColor: \"#FFFFFF\",\n        value: userId,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 310,\n          columnNumber: 25\n        }\n      })), React.createElement(View, {\n        style: [styles.textinputContainer, {\n          marginTop: 25\n        }],\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 318,\n          columnNumber: 21\n        }\n      }, React.createElement(TextInput, {\n        style: styles.textinput,\n        onChangeText: function onChangeText(text) {\n          return _this2.setState({\n            bikeId: text\n          });\n        },\n        placeholder: \"Bicycle Id\",\n        placeholderTextColor: \"#FFFFFF\",\n        value: bikeId,\n        autoFocus: true,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 319,\n          columnNumber: 25\n        }\n      }), React.createElement(TouchableOpacity, {\n        style: styles.scanbutton,\n        onPress: function onPress() {\n          return _this2.getCameraPermissions();\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 327,\n          columnNumber: 25\n        }\n      }, React.createElement(Text, {\n        style: styles.scanbuttonText,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 331,\n          columnNumber: 29\n        }\n      }, \"Scan\"))), React.createElement(TouchableOpacity, {\n        style: [styles.button, {\n          marginTop: 25\n        }],\n        onPress: this.handleTransaction,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 335,\n          columnNumber: 21\n        }\n      }, React.createElement(Text, {\n        style: styles.buttonText,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 339,\n          columnNumber: 25\n        }\n      }, bikeAssigned ? \"End Ride\" : \"Unlock\"))));\n    }\n  }]);\n\n  return RideScreen;\n}(Component);\n\nexport { RideScreen as default };\nvar styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    backgroundColor: \"#D0E6F0\"\n  },\n  bgImage: {\n    flex: 1,\n    resizeMode: \"cover\",\n    justifyContent: \"center\"\n  },\n  upperContainer: {\n    flex: 0.5,\n    justifyContent: \"center\",\n    alignItems: \"center\"\n  },\n  appIcon: {\n    width: 200,\n    height: 200,\n    resizeMode: \"contain\",\n    marginTop: 80\n  },\n  title: {\n    fontSize: 40,\n    fontFamily: \"Rajdhani_600SemiBold\",\n    paddingTop: 20,\n    color: \"#4C5D70\"\n  },\n  subtitle: {\n    fontSize: 20,\n    fontFamily: \"Rajdhani_600SemiBold\",\n    color: \"#4C5D70\"\n  },\n  lowerContainer: {\n    flex: 0.5,\n    alignItems: \"center\"\n  },\n  textinputContainer: {\n    borderWidth: 2,\n    borderRadius: 10,\n    flexDirection: \"row\",\n    backgroundColor: \"#4C5D70\",\n    borderColor: \"#4C5D70\"\n  },\n  textinput: {\n    width: \"57%\",\n    height: 50,\n    padding: 10,\n    borderColor: \"#4C5D70\",\n    borderRadius: 10,\n    borderWidth: 3,\n    fontSize: 18,\n    backgroundColor: \"#F88379\",\n    fontFamily: \"Rajdhani_600SemiBold\",\n    color: \"#FFFFFF\"\n  },\n  scanbutton: {\n    width: 100,\n    height: 50,\n    backgroundColor: \"#FBE5C0\",\n    borderTopRightRadius: 10,\n    borderBottomRightRadius: 10,\n    justifyContent: \"center\",\n    alignItems: \"center\"\n  },\n  scanbuttonText: {\n    fontSize: 24,\n    color: \"#4C5D70\",\n    fontFamily: \"Rajdhani_600SemiBold\"\n  },\n  button: {\n    width: \"43%\",\n    height: 55,\n    justifyContent: \"center\",\n    alignItems: \"center\",\n    backgroundColor: \"#FBE5C0\",\n    borderRadius: 20,\n    borderWidth: 2,\n    borderColor: \"#4C5D70\"\n  },\n  buttonText: {\n    fontSize: 24,\n    color: \"#4C5D70\",\n    fontFamily: \"Rajdhani_600SemiBold\"\n  }\n});","map":{"version":3,"names":["React","Component","Permissions","BarCodeScanner","firebase","db","bgImage","require","appIcon","RideScreen","props","getCameraPermissions","askAsync","CAMERA","status","setState","hasCameraPermissions","domState","scanned","handleBarCodeScanned","type","data","bikeId","handleTransaction","state","userId","getBikeDetails","getUserDetails","checkBikeAvailability","transactionType","Alert","alert","isEligible","bikeType","userName","assignBike","bikeAssigned","returnBike","trim","collection","where","get","then","snapshot","docs","map","doc","bike_type","name","id","bike_assigned","bikeRef","length","under_maintenance","is_bike_available","maintenance_message","checkUserEligibilityForStartRide","userRef","isUserEligible","checkUserEligibilityForEndRide","limit","transactionRef","lastBikeTransaction","add","user_id","user_name","bike_id","date","firestore","Timestamp","now","toDate","transaction_type","update","undefined","StyleSheet","absoluteFillObject","styles","container","upperContainer","title","subtitle","lowerContainer","textinputContainer","textinput","width","text","marginTop","scanbutton","scanbuttonText","button","buttonText","create","flex","backgroundColor","resizeMode","justifyContent","alignItems","height","fontSize","fontFamily","paddingTop","color","borderWidth","borderRadius","flexDirection","borderColor","padding","borderTopRightRadius","borderBottomRightRadius"],"sources":["C:/Users/Nikhil/Downloads/Pro-1-4-Project82_Template-main/Pro-1-4-Project82_Template-main/screens/Ride.js"],"sourcesContent":["import React, { Component } from \"react\";\r\nimport {\r\n    View,\r\n    StyleSheet,\r\n    TextInput,\r\n    TouchableOpacity,\r\n    Text,\r\n    ImageBackground,\r\n    Image,\r\n    Alert,\r\n    KeyboardAvoidingView,\r\n    ToastAndroid\r\n} from \"react-native\";\r\nimport * as Permissions from \"expo-permissions\";\r\nimport { BarCodeScanner } from \"expo-barcode-scanner\";\r\nimport firebase from \"firebase\";\r\nimport db from \"../config\";\r\n\r\nconst bgImage = require(\"../assets/background2.png\");\r\nconst appIcon = require(\"../assets/appIcon.png\");\r\n\r\nexport default class RideScreen extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            bikeId: \"\",\r\n            userId: \"\",\r\n            domState: \"normal\",\r\n            hasCameraPermissions: null,\r\n            scanned: false,\r\n            bikeType: \"\",\r\n            userName: \"\"\r\n        };\r\n    }\r\n\r\n    getCameraPermissions = async () => {\r\n        const { status } = await Permissions.askAsync(Permissions.CAMERA);\r\n\r\n        this.setState({\r\n            /*status === \"granted\" is true when user has granted permission\r\n                status === \"granted\" is false when user has not granted the permission\r\n              */\r\n            hasCameraPermissions: status === \"granted\",\r\n            domState: \"scanner\",\r\n            scanned: false\r\n        });\r\n    };\r\n\r\n    handleBarCodeScanned = async ({ type, data }) => {\r\n        this.setState({\r\n            bikeId: data,\r\n            domState: \"normal\",\r\n            scanned: true\r\n        });\r\n    };\r\n\r\n    handleTransaction = async () => {\r\n        var { bikeId, userId } = this.state;\r\n        await this.getBikeDetails(bikeId);\r\n        await this.getUserDetails(userId);\r\n\r\n        var transactionType = await this.checkBikeAvailability(bikeId);\r\n\r\n        if (!transactionType) {\r\n            this.setState({ bikeId: \"\" });\r\n            Alert.alert(\"Kindly enter/scan valid bike id\");\r\n        } else if (transactionType === \"under_maintenance\") {\r\n            this.setState({\r\n                bikeId: \"\"\r\n            });\r\n        } else if (transactionType === \"rented\") {\r\n            // Check user availability for start ride \r\n            var isEligible =  true                  ;\r\n\r\n            if (isEligible) {\r\n                var { bikeType, userName } = this.state;\r\n                this.assignBike(bikeId, userId, bikeType, userName);\r\n                Alert.alert(\r\n                    \"You have rented the bike for next 1 hour. Enjoy your ride!!!\"\r\n                );\r\n                this.setState({\r\n                    bikeAssigned: true\r\n                });\r\n\r\n                // For Android users only\r\n                // ToastAndroid.show(\r\n                //   \"You have rented the bike for next 1 hour. Enjoy your ride!!\",\r\n                //   ToastAndroid.SHORT\r\n                // );\r\n            }\r\n        } else {\r\n            // Check user availability for end ride \r\n            var isEligible =    true        ;\r\n\r\n            if (isEligible) {\r\n                var { bikeType, userName } = this.state;\r\n                this.returnBike(bikeId, userId, bikeType, userName);\r\n                Alert.alert(\"We hope you enjoyed your ride\");\r\n                this.setState({\r\n                    bikeAssigned: false\r\n                });\r\n\r\n                // For Android users only\r\n                // ToastAndroid.show(\r\n                //   \"We hope you enjoyed your ride\",\r\n                //   ToastAndroid.SHORT\r\n                // );\r\n            }\r\n        }\r\n    };\r\n\r\n    getBikeDetails = bikeId => {\r\n        bikeId = bikeId.trim();\r\n        db.collection(\"bicycles\")\r\n            .where(\"id\", \"==\", bikeId)\r\n            .get()\r\n            .then(snapshot => {\r\n                snapshot.docs.map(doc => {\r\n                    this.setState({\r\n                        bikeType: doc.data().bike_type\r\n                    });\r\n                });\r\n            });\r\n    };\r\n\r\n    getUserDetails = userId => {\r\n        db.collection(\"users\")\r\n            .where(\"id\", \"==\", userId)\r\n            .get()\r\n            .then(snapshot => {\r\n                snapshot.docs.map(doc => {\r\n\r\n\r\n\r\n                    this.setState({\r\n                        userName: doc.data().name,\r\n                        userId: doc.data().id,\r\n                        bikeAssigned: doc.data().bike_assigned\r\n                    });\r\n\r\n\r\n                });\r\n            });\r\n    };\r\n\r\n    checkBikeAvailability = async bikeId => {\r\n        const bikeRef = await db\r\n            .collection(\"bicycles\")\r\n            .where(\"id\", \"==\", bikeId)\r\n            .get();\r\n\r\n        var transactionType = \"\";\r\n        if (bikeRef.docs.length == 0) {\r\n            transactionType = false;\r\n        } else {\r\n            bikeRef.docs.map(doc => {\r\n                if (!doc.data().under_maintenance) {\r\n                    //if the bike is available then transaction type will be 'rented' otherwise it will be 'return'\r\n\r\n                    transactionType = transactionType = doc.data().is_bike_available ?\r\n                        \"rented\" : \"return\";\r\n\r\n\r\n                } else {\r\n                    transactionType = \"under_maintenance\";\r\n                    Alert.alert(doc.data().maintenance_message);\r\n                }\r\n            });\r\n        }\r\n\r\n        return transactionType;\r\n    };\r\n\r\n    checkUserEligibilityForStartRide = async userId => {\r\n        const userRef = await db\r\n            .collection(\"users\")\r\n            .where(\"id\", \"==\", userId)\r\n            .get();\r\n        var isUserEligible = false;\r\n        if (userRef.docs.length == 0) {\r\n            this.setState({\r\n                bikeId: \"\"\r\n            });\r\n            // Check and update user eligibility value\r\n            // whether it should be 'true' or 'false'\r\n            isUserEligible =   false      ;\r\n            Alert.alert(\"Invalid user id\");\r\n        } else {\r\n            userRef.docs.map(doc => {\r\n                if (!doc.data().bike_assigned) {\r\n                    // Check and update user eligibility value\r\n                    // whether it should be 'true' or 'false'\r\n                    isUserEligible =   true   ;\r\n                } else {\r\n                    // Check and update user eligibility value\r\n                    // whether it should be 'true' or 'false'\r\n                    isUserEligible =   false   ;\r\n                    Alert.alert(\"End the current ride to rent another bike.\");\r\n                    this.setState({\r\n                        bikeId: \"\"\r\n                    });\r\n                }\r\n            });\r\n        }\r\n\r\n        return isUserEligible;\r\n    };\r\n\r\n    checkUserEligibilityForEndRide = async (bikeId, userId) => {\r\n        const transactionRef = await db\r\n            .collection(\"transactions\")\r\n            .where(\"bike_id\", \"==\", bikeId)\r\n            .limit(1)\r\n            .get();\r\n        var isUserEligible = \"\";\r\n        transactionRef.docs.map(doc => {\r\n            var lastBikeTransaction = doc.data();\r\n            // Check if 'lastBikeTransaction.userid' equals 'userId'. \r\n            if (    lastBikeTransaction === userId         ) {\r\n                isUserEligible = true;\r\n            } else {\r\n                isUserEligible = false;\r\n                Alert.alert(\"This bike is rented by another user\");\r\n                this.setState({\r\n                    bikeId: \"\"\r\n                });\r\n            }\r\n        });\r\n        // Return the user's eligibility status\r\n        return     isUserEligible            ;\r\n    };\r\n\r\n    assignBike = async (bikeId, userId, bikeType, userName) => {\r\n        //add a transaction\r\n        db.collection(\"transactions\").add({\r\n            user_id: userId,\r\n            user_name: userName,\r\n            bike_id: bikeId,\r\n            bike_type: bikeType,\r\n            date: firebase.firestore.Timestamp.now().toDate(),\r\n            transaction_type: \"rented\"\r\n        });\r\n        //change bike status\r\n        db.collection(\"bicycles\")\r\n            .doc(bikeId)\r\n            .update({\r\n                is_bike_available: false\r\n            });\r\n        //change value  of bike assigned for user\r\n        db.collection(\"users\")\r\n            .doc(userId)\r\n            .update({\r\n                bike_assigned: true\r\n            });\r\n\r\n        // Updating local state\r\n        this.setState({\r\n            bikeId: \"\"\r\n        });\r\n    };\r\n\r\n    returnBike = async (bikeId, userId, bikeType, userName) => {\r\n        //add a transaction\r\n        db.collection(\"transactions\").add({\r\n            user_id: userId,\r\n            user_name: userName,\r\n            bike_id: bikeId,\r\n            bike_type: bikeType,\r\n            date: firebase.firestore.Timestamp.now().toDate(),\r\n            transaction_type: \"return\"\r\n        });\r\n        //change bike status\r\n        db.collection(\"bicycles\")\r\n            .doc(bikeId)\r\n            .update({\r\n                is_bike_available: true\r\n            });\r\n        //change value  of bike assigned for user\r\n        db.collection(\"users\")\r\n            .doc(userId)\r\n            .update({\r\n                bike_assigned: false\r\n            });\r\n\r\n        // Updating local state\r\n        this.setState({\r\n            bikeId: \"\"\r\n        });\r\n    };\r\n\r\n    render() {\r\n        const { bikeId, userId, domState, scanned, bikeAssigned } = this.state;\r\n        if (domState !== \"normal\") {\r\n            return (\r\n                <BarCodeScanner\r\n                    onBarCodeScanned={scanned ? undefined : this.handleBarCodeScanned}\r\n                    style={StyleSheet.absoluteFillObject}\r\n                />\r\n            );\r\n        }\r\n        return (\r\n            <KeyboardAvoidingView behavior=\"padding\" style={styles.container}>\r\n                <View style={styles.upperContainer}>\r\n                    <Image source={appIcon} style={styles.appIcon} />\r\n                    <Text style={styles.title}>e-ride</Text>\r\n                    <Text style={styles.subtitle}>A Eco-Friendly Ride</Text>\r\n                </View>\r\n                <View style={styles.lowerContainer}>\r\n                    <View style={styles.textinputContainer}>\r\n                        <TextInput\r\n                            style={[styles.textinput, { width: \"82%\" }]}\r\n                            onChangeText={text => this.setState({ userId: text })}\r\n                            placeholder={\"User Id\"}\r\n                            placeholderTextColor={\"#FFFFFF\"}\r\n                            value={userId}\r\n                        />\r\n                    </View>\r\n                    <View style={[styles.textinputContainer, { marginTop: 25 }]}>\r\n                        <TextInput\r\n                            style={styles.textinput}\r\n                            onChangeText={text => this.setState({ bikeId: text })}\r\n                            placeholder={\"Bicycle Id\"}\r\n                            placeholderTextColor={\"#FFFFFF\"}\r\n                            value={bikeId}\r\n                            autoFocus\r\n                        />\r\n                        <TouchableOpacity\r\n                            style={styles.scanbutton}\r\n                            onPress={() => this.getCameraPermissions()}\r\n                        >\r\n                            <Text style={styles.scanbuttonText}>Scan</Text>\r\n                        </TouchableOpacity>\r\n                    </View>\r\n\r\n                    <TouchableOpacity\r\n                        style={[styles.button, { marginTop: 25 }]}\r\n                        onPress={this.handleTransaction}\r\n                    >\r\n                        <Text style={styles.buttonText}>\r\n                            {bikeAssigned ? \"End Ride\" : \"Unlock\"}\r\n                        </Text>\r\n                    </TouchableOpacity>\r\n                </View>\r\n            </KeyboardAvoidingView>\r\n        );\r\n    }\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n    container: {\r\n        flex: 1,\r\n        backgroundColor: \"#D0E6F0\"\r\n    },\r\n    bgImage: {\r\n        flex: 1,\r\n        resizeMode: \"cover\",\r\n        justifyContent: \"center\"\r\n    },\r\n    upperContainer: {\r\n        flex: 0.5,\r\n        justifyContent: \"center\",\r\n        alignItems: \"center\"\r\n    },\r\n    appIcon: {\r\n        width: 200,\r\n        height: 200,\r\n        resizeMode: \"contain\",\r\n        marginTop: 80\r\n    },\r\n    title: {\r\n        fontSize: 40,\r\n        fontFamily: \"Rajdhani_600SemiBold\",\r\n        paddingTop: 20,\r\n        color: \"#4C5D70\"\r\n    },\r\n    subtitle: {\r\n        fontSize: 20,\r\n        fontFamily: \"Rajdhani_600SemiBold\",\r\n        color: \"#4C5D70\"\r\n    },\r\n    lowerContainer: {\r\n        flex: 0.5,\r\n        alignItems: \"center\"\r\n    },\r\n    textinputContainer: {\r\n        borderWidth: 2,\r\n        borderRadius: 10,\r\n        flexDirection: \"row\",\r\n        backgroundColor: \"#4C5D70\",\r\n        borderColor: \"#4C5D70\"\r\n    },\r\n    textinput: {\r\n        width: \"57%\",\r\n        height: 50,\r\n        padding: 10,\r\n        borderColor: \"#4C5D70\",\r\n        borderRadius: 10,\r\n        borderWidth: 3,\r\n        fontSize: 18,\r\n        backgroundColor: \"#F88379\",\r\n        fontFamily: \"Rajdhani_600SemiBold\",\r\n        color: \"#FFFFFF\"\r\n    },\r\n    scanbutton: {\r\n        width: 100,\r\n        height: 50,\r\n        backgroundColor: \"#FBE5C0\",\r\n        borderTopRightRadius: 10,\r\n        borderBottomRightRadius: 10,\r\n        justifyContent: \"center\",\r\n        alignItems: \"center\"\r\n    },\r\n    scanbuttonText: {\r\n        fontSize: 24,\r\n        color: \"#4C5D70\",\r\n        fontFamily: \"Rajdhani_600SemiBold\"\r\n    },\r\n    button: {\r\n        width: \"43%\",\r\n        height: 55,\r\n        justifyContent: \"center\",\r\n        alignItems: \"center\",\r\n        backgroundColor: \"#FBE5C0\",\r\n        borderRadius: 20,\r\n        borderWidth: 2,\r\n        borderColor: \"#4C5D70\"\r\n    },\r\n    buttonText: {\r\n        fontSize: 24,\r\n        color: \"#4C5D70\",\r\n        fontFamily: \"Rajdhani_600SemiBold\"\r\n    }\r\n});\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}